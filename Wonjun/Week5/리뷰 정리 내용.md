
￼![[Pasted image 20250625112616.png]]

reduce(\_:\_:)와 reduce(into:\_:)의 
**공통점**
1. 둘 다 [[Sequence]]의 모든 요소를 하나의 값으로 합치는 데 사용됨
2. 함수형 프로그래밍의 대표적인 패턴
3. 초기값과 클로저를 받음
4. **하나의 값**을 반환함 

**차이점**

| 기능             | reduce(\_:\_:)                | reduce(into:\_:)                  |
| -------------- | ----------------------------- | --------------------------------- |
| 누적값 처리 방식      | 누적값을 매번 새로 반환                 | 누적값을 직접 수정                        |
| 반환값            | 새로 생성된 누적 값을 반환               | 반환값은 없고 누적값을 직접 수정한다.             |
| 성능             | 매번 복사함으로 값이 복잡하면 느려짐          | 복사 없이 직접 수정하여 빠르다.                |
| `(입력값) -> 반환값` | `(Result, Element) -> Result` | `(inout Result, Element) -> Void` |

\*inout: 이 파라미터(위 예시에서는 `Result`)를 클로저 내부에서 직접 변경할 수 있다는 의미




![[Pasted image 20250625112834.png]]

 **compactMap** 
- map처럼 요소를 변형하되, **변환 결과가 nil이면 제거함**
```swift
let strings = ["1", "2", "three", "4"]

let numbers = strings.compactMap { Int($0) }
// 결과: [1, 2, 4]   // "three"는 Int로 변환 불가 → nil → 제거됨
```

**flatMap(\_:)** - 중첩 컬렉션을 1차원으로 평탄화하면서 변환한다.

`즉, 옵셔널을 제거하면서 배열을 1차원으로 평탄화 하는지 유무가 차이점이다!`