Swift를 공부함에 있어서 이전에 그냥 비유만듣고 모호하게 넘겼던 Arc에 이어서 이번에는 protocol에 대한 무지를 청산하려한다. class vs struct도 그렇고, 아마 다음엔 제네릭이 되지않을까..

여튼 이번에는 protocol에 대해서 알아보도록하자!
엄격하게 실제 정의를 보기에 앞서 원래 이전에 들었던 protocol의 비유는 <설계서>라는 것이었다. 
어떠한 클래스나 구조체를 생성할때 뭔가 '이것도 빼놓으면 안돼', '저것는 추가하면 안돼' 라는 식으로 알려주는 정도로만 이해했었습니다.
그래서 그냥 그정도면 사실 크게 필요없는게 아닌가? 내가 잘 파악하고 있으면 프로토콜도 필요가 없는건가? 정도로 생각하고 있었는데, 
다른 러너들의 팀원들의 대화를 흘려듣다보니, Protocol은 단순히 코더에게 뭔가 알리거나 오류를 막기 위한 <뻐꾸기>역할 그 이상인 것 같았습니다. 그래서 이 녀석의 진짜 정체를 제대로 추적해보고자 합니다.

<img src="https://velog.velcdn.com/images/bishoe01/post/a6a162cf-d79a-4418-84ea-5548a7917030/image.png" width=300/>

> [! 정의]
> _프로토콜 (protocol)_ 은 메서드, 프로퍼티, 그리고 특정 작업이나 기능의 부분이 적합한 다른 요구사항의 청사진을 정의합니다. 프로토콜은 요구사항의 구현을 제공하기 위해 클래스, 구조체, 또는 열거형에 의해 채택될 수 있습니다. 프로토콜의 요구사항에 충족하는 모든 타입은 프로토콜에 _준수 (conform)_ 한다고 합니다.

### 청사진?
일단 내가 들었던 설계도는 이 청사진에 매핑이 되는 것 같다. 그러면 먼저 왜 청사진이라 불리는지 용도에 따라서 한 번 알아보자

####  속성  
```swift
struct Person : Identifiable {
//    var id : UUID = .init()
    var name : String
}
var 사람 = Person(name: "철수")
```
이러면 이런 에러가 뜨게되는데, 하나씩 읽어보자면 

<img src="https://velog.velcdn.com/images/bishoe01/post/da7a77aa-1d30-4779-b2f6-583cb20a0813/image.png" width=600/>

1. Person이라는 친구가 protocol identifiable을 준수하지 않아요 ! 
2. Identifiable의 id를 준수해야 후보가 일치할 것이라고 말하고 있다..
**요약하자면 Identifiable 설계도를 준수한다고 했으니 id 집어넣어라!!**

[[objectidentifier | objectIdentifier타입?]]

그래서 일단 우리는 아래 프로토콜 간단 가이드라인에서 첫번째인 **약속**으로 쓰일때만 알아본 것이다..! 그러면 이제 각각 의 스텝에 대해서 좀 알아보자 ! 

### **약속(Contract)의 의미** - 청사진
	위에서 Identifiable이니까 너 **id 쓰기로 약속했잖아!** 하는느낌
   
### [[타입으로서도 사용]]
	Protocol을 변수 타입으로 쓸 수 있음

### [[여러 Protocol 동시 채택 가능]]
	struct Person: Identifiable, Codable, Equatable 처럼 여러 개 가능

### [[Extension으로 기본 구현 제공]]
	Protocol에 기본 기능을 미리 만들어둘 수 있음


## 정리

처음엔 Protocol은 설계도 정도로만 생각했는데, 
근데 알고보니 Protocol은 정말 설계도였다...! 근데 가장 중요도가 떨어진다고 생각했던 반면에 약간 좀 더 내가 다룰 수 있는 하나의 타입? 느낌으로 다가왔던 것 같다. 사실 더 깊게들어가려면 정말 SwiftUI에서는 어떻게 쓰는지를 다루면서, Delegate를 다룰 수 있었으면 좋았을 것 같은데, 다음번에 기회가 되면 다뤄보도록 하겠습니다..! 

1. **약속(Contract)** - "너 이거 구현하기로 했잖아!"
2. **타입** - Protocol 자체를 타입으로 쓸 수 있음
3. **다중 채택** - 여러 Protocol을 동시에 따를 수 있음
4. **Extension** - 공통 기능을 한 번만 구현하면 됨

